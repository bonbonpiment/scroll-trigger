angular.module("scroll-trigger",[]).constant("scrollTriggerDefaultOptions",{offset:0,interval:120,explicitScroll:!1}).provider("ScrollTrigger",["scrollTriggerDefaultOptions",function(r){var e=angular.copy(r);this.offset=function(r){return angular.isUndefined(r)?e.offset:void(angular.isNumber(r)&&(e.offset=r))},this.interval=function(r){return angular.isUndefined(r)?e.interval:void(angular.isNumber(r)&&r>0&&(e.interval=r))},this.explicitScroll=function(r){return angular.isUndefined(r)?e.explicitScroll:void(e.explicitScroll=!!r)},this.$get=["$window","offsetFn","screenEdgeFn","throttleFn",function(r,n,t,i){var o=t(),l=0,a=function(r,t){var i=n(r.elem).top;return r.end&&(i+=r.elem.offsetHeight),i<t+e.offset},c={buffer:{},listen:function(r){r.container&&angular.element(r.elem).on("scroll",this.listener)},update:function(r){r.stopPropagation();var n=t()+e.offset;angular.forEach(c.buffer,function(e,t,i){a(e,n,r)&&(e.action(),e.stay||delete i[t])})},register:function(r){var n=r.id||++l;if(!e.explicitScroll&&a(r,o)){if(!r.stay)return r.action();r.action()}this.buffer[n]=r,this.listen(r)}};return c.listener=i(c.update,e.interval),angular.element(r).on("scroll",c.listener),c}]}]).directive("scrollTrigger",["$parse","ScrollTrigger",function(r,e){return{priority:1,restrict:"A",scope:!1,link:function(n,t,i){e.register({id:i.scrollTriggerId,elem:t[0],end:"scrollToEnd"in i,stay:"scrollPersist"in i,container:"scrollContainer"in i,action:function(){return r(i.scrollTrigger)(n)}})}}}]),angular.module("scroll-trigger").factory("offsetFn",["$window",function(){return function(r){var e=0,n=0;do e+=r.offsetTop||0,n+=r.offsetLeft||0,r=r.offsetParent;while(r);return{top:e,left:n}}}]),angular.module("scroll-trigger").factory("screenEdgeFn",["$window",function(r){return function(){return r.pageYOffset+r.innerHeight}}]),angular.module("scroll-trigger").factory("throttleFn",["$timeout",function(r){return function(e,n){var t,i=0;return function(){var o=arguments,l=this,a=+new Date,c=function(){i=a,e.apply(l,o)};r.cancel(t),a>=i+n?c():t=r(c,n,!1)}}}]);