angular.module("scroll-trigger",[]).constant("scrollTriggerDefaultOptions",{offset:0,interval:120,explicitScroll:!1}).provider("ScrollTrigger",["scrollTriggerDefaultOptions",function(e){var t=angular.copy(e);this.offset=function(e){return angular.isUndefined(e)?t.offset:void(angular.isNumber(e)&&(t.offset=e))},this.interval=function(e){return angular.isUndefined(e)?t.interval:void(angular.isNumber(e)&&e>0&&(t.interval=e))},this.explicitScroll=function(e){return angular.isUndefined(e)?t.explicitScroll:void(t.explicitScroll=!!e)},this.$get=["$window","offsetFn","screenEdgeFn","throttleFn",function(e,n,r,i){var o=r(),l=0,f={buffer:{},listening:!1,listen:function(){this.listening||(angular.element(e).on("scroll",this.listener),this.listening=!0)},update:function(){var i=r()+t.offset;angular.forEach(f.buffer,function(e,t,r){var o=n(e.elem).top;e.options.end&&(o+=e.elem.offsetHeight),i>=o&&(e.action(),e.options.stay||delete r[t])}),Object.keys(f.buffer).length||(angular.element(e).off("scroll"),f.listening=!1)},register:function(e,r,i){e=e[0];var f=n(e).top,s=i.id||++l;if(i.end&&(f+=e.offsetHeight),!t.explicitScroll&&f<=o+t.offset){if(!i.stay)return r();r()}this.buffer[s]={elem:e,action:r,options:i},this.listen()}};return f.listener=i(f.update,t.interval),f}]}]).directive("scrollTrigger",["$parse","ScrollTrigger",function(e,t){return{priority:1,restrict:"A",scope:!1,link:function(n,r,i){t.register(r,function(){return e(i.scrollTrigger)(n)},{id:i.scrollTriggerId,end:"scrollToEnd"in i,stay:"scrollPersist"in i})}}}]),angular.module("scroll-trigger").factory("offsetFn",["$window",function(){return function(e){var t=0,n=0;do t+=e.offsetTop||0,n+=e.offsetLeft||0,e=e.offsetParent;while(e);return{top:t,left:n}}}]),angular.module("scroll-trigger").factory("screenEdgeFn",["$window",function(e){return function(){return e.pageYOffset+e.innerHeight}}]),angular.module("scroll-trigger").factory("throttleFn",["$timeout",function(e){return function(t,n){var r,i=0;return function(){var o=arguments,l=this,f=+new Date,s=function(){i=f,t.apply(l,o)};e.cancel(r),f>=i+n?s():r=e(s,n,!1)}}}]);